##
##  This file must be sourced from within it's own folder
##
##  I.e.  [$ source ./workhere]
##

export __TMP__=${PWD}/__TMP__
export __VENV__=${__TMP__}/${RANDOM}.${RANDOM}

quithere () { 
   rm -rf ${__TMP__};
}

mkdir -p ${__TMP__}
python3 -m venv ${__VENV__}
source ${__VENV__}/bin/activate
pip install --upgrade pip
pip install -r ${PWD}/.config.pip
source ${PWD}/.config.env
pytest
echo
echo "enter 'quithere' to end session."
echo     

